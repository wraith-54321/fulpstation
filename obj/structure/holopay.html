<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;structure&#x2F;holopay - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/structure/holopay.html#var">Var Details</a> - <a href="obj/structure/holopay.html#proc">Proc Details</a></header>
<main>
<h1>holopay <aside>/<a href="obj.html">obj</a>/<a href="obj/structure/holopay.html">structure/holopay</a></aside>
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/structure/holopay.html#var/card_ref">card_ref</a></th><td>ID linked to the holopay</td></tr>
            <tr><th><a href="obj/structure/holopay.html#var/force_fee">force_fee</a></th><td>Replaces the &quot;pay whatever&quot; functionality with a set amount when non-zero.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#var/holder">holder</a></th><td>Current holder of the linked card</td></tr>
            <tr><th><a href="obj/structure/holopay.html#var/max_holo_range">max_holo_range</a></th><td>Max range at which the hologram can be projected before it deletes</td></tr>
            <tr><th><a href="obj/structure/holopay.html#var/shop_logo">shop_logo</a></th><td>The holopay shop icon displayed in the UI</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/alert_buyer">alert_buyer</a></th><td>Account checks
If the user has enough money, ask them the amount or charge the force fee
Exit checks in case the user cancelled or entered an invalid amount
Success: Alert the buyer
Alerts the owner of the transaction.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/assign_card">assign_card</a></th><td>Links the source card to the holopay. Begins checking if its in range.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/check_operation">check_operation</a></th><td>Start checking if the source projection is in range
A periodic check to see if the projecting card is nearby.
Deletes the holopay if true.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/dissapate">dissapate</a></th><td>Creates holopay vanishing effects.
Deletes the holopay thereafter.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/get_card">get_card</a></th><td>Checks that the card is still linked.
Deletes the holopay if not.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/process_payment">process_payment</a></th><td>Initiates a transaction between accounts.</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/ui_data">ui_data</a></th><td>Sanity checks</td></tr>
            <tr><th><a href="obj/structure/holopay.html#proc/ui_interact">ui_interact</a></th><td>Users can pay with an ID to skip the UI
Users can also pay by holochip
Account checks
Charges force fee or uses pay what you want
Exit sanity checks
Success: Alert buyer
Throws errors if they try to use space cash</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/card_ref"><aside class="declaration">var </aside>card_ref
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside>
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L12">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 12"/></a></h3>
        <p>ID linked to the holopay</p><h3 id="var/force_fee"><aside class="declaration">var </aside>force_fee
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L18">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 18"/></a></h3>
        <p>Replaces the &quot;pay whatever&quot; functionality with a set amount when non-zero.</p><h3 id="var/holder"><aside class="declaration">var </aside>holder
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside>
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L22">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 22"/></a></h3>
        <p>Current holder of the linked card</p><h3 id="var/max_holo_range"><aside class="declaration">var </aside>max_holo_range
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L14">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 14"/></a></h3>
        <p>Max range at which the hologram can be projected before it deletes</p><h3 id="var/shop_logo"><aside class="declaration">var </aside>shop_logo
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L16">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 16"/></a></h3>
        <p>The holopay shop icon displayed in the UI</p><h2 id="proc">Proc Details</h2><h3 id="proc/alert_buyer"><aside class="declaration">proc </aside>alert_buyer<aside>(payee, amount) 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L265">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 265"/></a></aside>
        </h3>
        <p>Account checks
If the user has enough money, ask them the amount or charge the force fee
Exit checks in case the user cancelled or entered an invalid amount
Success: Alert the buyer
Alerts the owner of the transaction.</p>
<p>Parameters:</p>
<ul>
<li>payee - The user who initiated the transaction.</li>
<li>amount - The amount of money that was paid.
Returns:</li>
<li>TRUE - alert was successful.</li>
</ul><h3 id="proc/assign_card"><aside class="declaration">proc </aside>assign_card<aside>(/<a href="turf.html">turf</a>/target, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/card/id.html">card/id</a>/card) 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L164">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 164"/></a></aside>
        </h3>
        <p>Links the source card to the holopay. Begins checking if its in range.</p>
<p>Parameters:</p>
<ul>
<li>turf/target - The tile to project the holopay onto</li>
<li>obj/item/card/id/card - The card to link to the holopay
Returns:</li>
<li>TRUE - the card was linked</li>
</ul><h3 id="proc/check_operation"><aside class="declaration">proc </aside>check_operation<aside>() 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L184">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 184"/></a></aside>
        </h3>
        <p>Start checking if the source projection is in range
A periodic check to see if the projecting card is nearby.
Deletes the holopay if true.</p><h3 id="proc/dissapate"><aside class="declaration">proc </aside>dissapate<aside>() 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L200">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 200"/></a></aside>
        </h3>
        <p>Creates holopay vanishing effects.
Deletes the holopay thereafter.</p><h3 id="proc/get_card"><aside class="declaration">proc </aside>get_card<aside>() 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L213">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 213"/></a></aside>
        </h3>
        <p>Checks that the card is still linked.
Deletes the holopay if not.</p>
<p>Returns:</p>
<ul>
<li>/obj/item/card/id/card - The card that is linked to the holopay</li>
</ul><h3 id="proc/process_payment"><aside class="declaration">proc </aside>process_payment<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user) 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L228">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 228"/></a></aside>
        </h3>
        <p>Initiates a transaction between accounts.</p>
<p>Parameters:</p>
<ul>
<li>mob/living/user - The user who initiated the transaction.
Returns:</li>
<li>TRUE - transaction was successful</li>
</ul><h3 id="proc/ui_data"><aside class="parent"><a title="/datum" href="datum.html#proc/ui_data">&uarr;</a></aside>ui_data<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L117">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 117"/></a></aside>
        </h3>
        <p>Sanity checks</p><h3 id="proc/ui_interact"><aside class="parent"><a title="/datum" href="datum.html#proc/ui_interact">&uarr;</a></aside>ui_interact<aside>(/<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui) 
        
    
            <a href="https://github.com/wraith-54321/fulpstation/blob/008a311f775a16561b152f4d5d3fc9c0b4d72d7c/code/modules/economy/holopay.dm#L90">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;holopay.dm 90"/></a></aside>
        </h3>
        <p>Users can pay with an ID to skip the UI
Users can also pay by holochip
Account checks
Charges force fee or uses pay what you want
Exit sanity checks
Success: Alert buyer
Throws errors if they try to use space cash</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/wraith-54321/fulpstation/tree/008a311f775a16561b152f4d5d3fc9c0b4d72d7c">008a311</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
